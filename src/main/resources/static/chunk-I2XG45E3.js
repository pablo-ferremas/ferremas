import{O as i,T as s,bc as l,dc as d,o as n,z as a}from"./chunk-TVOLU7LP.js";var c=class o{constructor(e){this.http=e}baseUrl=`${d.apiUrl}/pedidos`;crearPedido(e){return console.log("Enviando pedido al backend:",e),this.http.post(this.baseUrl,e).pipe(a(r=>(console.error("Error backend:",r),r.error&&console.error("Detalle error backend:",r.error),n(()=>r))))}obtenerPedidosPorUsuario(e){return this.http.get(`${this.baseUrl}/usuario/${e}`)}obtenerPedidoPorNumeroOrden(e){return this.http.get(`${this.baseUrl}/numero/${e}`)}obtenerPedidoPorId(e){return this.http.get(`${this.baseUrl}/${e}`)}actualizarEstadoPedido(e,r){return console.log(`=== ACTUALIZANDO PEDIDO ${e} ===`),console.log("Estado enviado:",r),console.log("Longitud del estado:",r.length),console.log("URL completa:",`${this.baseUrl}/${e}/estado?estado=${r}`),this.http.patch(`${this.baseUrl}/${e}/estado`,null,{params:{estado:r}}).pipe(a(t=>(console.error("=== ERROR AL ACTUALIZAR ESTADO ==="),console.error("Error completo:",t),t.error&&console.error("Detalle error backend:",t.error),t.status&&console.error("Status HTTP:",t.status),n(()=>t))))}static \u0275fac=function(r){return new(r||o)(s(l))};static \u0275prov=i({token:o,factory:o.\u0275fac,providedIn:"root"})};export{c as a};
